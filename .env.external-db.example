# Exemplo de configuração para BANCO EXTERNO do Coolify
# Use este arquivo como referência para configurar no Coolify

# ===================================
# OPÇÃO 1: URL PostgreSQL do Coolify (RECOMENDADO - Mais fácil!)
# ===================================
# Cole a URL completa que o Coolify fornece
# O script converterá automaticamente para JDBC
#
# Exemplo:
# POSTGRES_URL=postgres://postgres:tji8Yg4ztzp19gV2ceVdjvaXhsESaX7MLQMuN1ZObvVUg4Ev72NcIDFP8bYmbVXb@rcs8ogo4cwcos44kk0gwgkog:5432/postgres
#
POSTGRES_URL=postgres://USER:PASSWORD@HOST:5432/DATABASE


# ===================================
# OPÇÃO 2: Configuração Manual (Avançado)
# ===================================
# Se preferir, extraia os componentes da URL e configure manualmente:
#
# APP_DB_URL=jdbc:postgresql://HOST:5432/DATABASE
# APP_DB_USER=USER
# APP_DB_PASSWORD=PASSWORD


# ===================================
# CONFIGURAÇÃO DE DOMÍNIO (Opcional)
# ===================================
# Para acesso sem porta via Traefik
# Exemplo: DOMAIN=esus.seudominio.com.br
#
DOMAIN=localhost


# ===================================
# OUTRAS CONFIGURAÇÕES (Opcional)
# ===================================
# URL de download do eSUS (já tem padrão)
# URL_DOWNLOAD_ESUS=https://arquivos.esusab.ufsc.br/PEC/xxx/eSUS-AB-PEC-x.x.xx-Linux64.jar


# ===================================
# COMO USAR NO COOLIFY
# ===================================
# 1. Crie um PostgreSQL no painel do Coolify
# 2. Copie a "Connection URL" fornecida
# 3. No recurso da aplicação, use: docker-compose.external-db.yaml
# 4. Configure apenas POSTGRES_URL com a URL copiada
# 5. Deploy!
#
# O script startup.sh vai automaticamente:
#   - Converter postgres:// para jdbc:postgresql://
#   - Extrair usuário e senha
#   - Conectar ao banco externo
